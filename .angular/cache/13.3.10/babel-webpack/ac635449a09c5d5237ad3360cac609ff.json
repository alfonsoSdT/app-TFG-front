{"ast":null,"code":"import { HttpClient } from '@angular/common/http';\nimport { FormControl } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../sidebar/sidebar.component\";\nimport * as i5 from \"../../shared/navbar/navbar.component\";\nimport * as i6 from \"../../shared/footer/footer.component\";\nimport * as i7 from \"../../shared/fixedplugin/fixedplugin.component\";\nimport * as i8 from \"@angular/forms\";\n\nfunction AdminLayoutComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4);\n    i0.ɵɵelement(2, \"sidebar-cmp\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 5);\n    i0.ɵɵelement(4, \"navbar-cmp\");\n    i0.ɵɵelementStart(5, \"div\", 6);\n    i0.ɵɵelement(6, \"router-outlet\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"footer-cmp\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction AdminLayoutComponent_fixedplugin_cmp_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"fixedplugin-cmp\");\n  }\n}\n\nfunction AdminLayoutComponent_div_2_strong_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 18);\n    i0.ɵɵtext(1, \"Your account could not be found \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AdminLayoutComponent_div_2_strong_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 18);\n    i0.ɵɵtext(1, \"Wrong password for the given user name\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AdminLayoutComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8)(2, \"div\", 9)(3, \"h3\", 10);\n    i0.ɵɵtext(4, \"Login\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 11)(6, \"div\", 12)(7, \"label\");\n    i0.ɵɵtext(8, \"User name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"input\", 13);\n    i0.ɵɵtemplate(10, AdminLayoutComponent_div_2_strong_10_Template, 2, 0, \"strong\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 12)(12, \"label\");\n    i0.ɵɵtext(13, \"Password\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"input\", 15);\n    i0.ɵɵtemplate(15, AdminLayoutComponent_div_2_strong_15_Template, 2, 0, \"strong\", 14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 16)(17, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function AdminLayoutComponent_div_2_Template_button_click_17_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.checkUser();\n    });\n    i0.ɵɵtext(18, \"Enter\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"formControl\", ctx_r2.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showPopUpUser == true);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r2.password);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showPopUpPassword == true);\n  }\n}\n\nexport let AdminLayoutComponent = /*#__PURE__*/(() => {\n  class AdminLayoutComponent {\n    constructor(_route, http) {\n      this._route = _route;\n      this.http = http;\n      this.name = new FormControl('');\n      this.password = new FormControl('');\n    }\n\n    ngOnInit() {\n      this.reload();\n      let name = sessionStorage.getItem('UserName');\n\n      if (name == null) {\n        this.userLogged = false;\n      } else {\n        this.userLogged = true;\n      }\n    }\n\n    reload() {\n      if (window.localStorage) {\n        if (!localStorage.getItem('firstLoad')) {\n          localStorage['firstLoad'] = true;\n          window.location.reload();\n        } else localStorage.removeItem('firstLoad');\n      }\n    }\n\n    checkUser() {\n      const nameUser = this.name.value;\n      const passwordUser = this.password.value;\n      this.showPopUpPassword = false;\n      this.showPopUpUser = false;\n      let info = {\n        'nameUser': nameUser,\n        'password': passwordUser\n      };\n      console.log(info);\n      this.http.post('http://localhost:3001/users/login', {\n        'nameUser': nameUser,\n        'password': passwordUser\n      }).subscribe(res => {\n        console.log(res);\n\n        if (res.status == 200) {\n          this.userLogged = true;\n          sessionStorage.setItem('UserName', nameUser);\n\n          this._route.navigate(['dashboard']);\n        }\n      }, error => {\n        if (error.status == 404) {\n          this.showPopUpUser = true;\n        }\n\n        if (error.status == 403) {\n          this.showPopUpPassword = true;\n        }\n      });\n    }\n\n  }\n\n  AdminLayoutComponent.ɵfac = function AdminLayoutComponent_Factory(t) {\n    return new (t || AdminLayoutComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.HttpClient));\n  };\n\n  AdminLayoutComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AdminLayoutComponent,\n    selectors: [[\"app-admin-layout\"]],\n    decls: 3,\n    vars: 3,\n    consts: [[\"class\", \"wrapper\", 4, \"ngIf\"], [4, \"ngIf\"], [\"class\", \"body\", \"style\", \"display:flex; background-color: whitesmoke; width: 100%; height: 100vh; align-items: center;justify-content: center;\", 4, \"ngIf\"], [1, \"wrapper\"], [\"data-color\", \"white\", \"data-active-color\", \"danger\", 1, \"sidebar\"], [1, \"main-panel\"], [1, \"content\"], [1, \"body\", 2, \"display\", \"flex\", \"background-color\", \"whitesmoke\", \"width\", \"100%\", \"height\", \"100vh\", \"align-items\", \"center\", \"justify-content\", \"center\"], [\"data-background\", \"color\", \"data-color\", \"blue\", 1, \"card\", \"card-login\", 2, \"float\", \"center\", \"width\", \"50%\", \"height\", \"50%\"], [1, \"card-header\"], [1, \"card-title\"], [1, \"card-content\", 2, \"padding\", \"15px\"], [1, \"form-group\"], [\"type\", \"name\", \"placeholder\", \"User name\", 1, \"form-control\", \"input-no-border\", 3, \"formControl\"], [\"style\", \"color:red\", 4, \"ngIf\"], [\"type\", \"password\", \"placeholder\", \"******\", 1, \"form-control\", \"input-no-border\", 3, \"formControl\"], [1, \"footer\", \"text-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-fill\", \"btn-wd\", 3, \"click\"], [2, \"color\", \"red\"]],\n    template: function AdminLayoutComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, AdminLayoutComponent_div_0_Template, 8, 0, \"div\", 0);\n        i0.ɵɵtemplate(1, AdminLayoutComponent_fixedplugin_cmp_1_Template, 1, 0, \"fixedplugin-cmp\", 1);\n        i0.ɵɵtemplate(2, AdminLayoutComponent_div_2_Template, 19, 4, \"div\", 2);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.userLogged == true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.userLogged == true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.userLogged == false);\n      }\n    },\n    directives: [i3.NgIf, i4.SidebarComponent, i5.NavbarComponent, i1.RouterOutlet, i6.FooterComponent, i7.FixedPluginComponent, i8.DefaultValueAccessor, i8.NgControlStatus, i8.FormControlDirective],\n    styles: [\"\"]\n  });\n  return AdminLayoutComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}